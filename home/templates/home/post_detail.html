{% extends 'base.html' %}

{% block title %} {{ post.title }} {% endblock %}

{% block content %}
{% if user.is_authenticated %}
    {% if user.id == post.user.id %}
    <a href="{% url 'post_edit' post.pk %}">Edit</a>
    <a href="{% url 'post_delete' post.pk %}">Delete</a>
    {% endif %}
{% endif %}
    <h1>Post Details...</h1><br>
    <h3>By: {{ post.user }} - {{ post.created }}</h3>
    <h3>Title: {{ post.title }}</h3>
    <h4>Description: {{ post.description }}</h4>
    <h3>Case: {{ post.case }}</h3>
    <h3>Switches: {{ post.switches }}</h3>
    <h3>Keycaps: {{ post.keycaps }}</h3>
    <hr>
    <p>Total <i class="fa-solid fa-heart"></i>: {{ total_likes }}</p>
    <h3>Likes:</h3>
    {% if user.is_authenticated %}
    <form action="{% url 'post_like' post.pk %}" method="POST">
        {% csrf_token %}
        {% if liked %}
        <button type="submit" name="post_like_btn" value="{{ post.id }}" class="btn-like"><i class="fa-solid fa-heart"></i></button>
        {% else %}
        <button type="submit" name="post_like_btn" value="{{ post.id }}" class="btn-like"><i class="fa-regular fa-heart"></i></button>
        {% endif %}
    </form>
    {% else %}
    <span class="text-secondary"><i class="fa-regular fa-heart"></i></span>
    {% endif %}
    <br/>
    <div>
    </div>
    <a href ="{% url 'posts' %}" class="btn btn-dark">Back</a>

{% endblock %}